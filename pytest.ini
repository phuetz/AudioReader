[pytest]
# Configuration pytest pour AudioReader

# Repertoire de tests
testpaths = tests

# Pattern de fichiers de test
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Options par defaut
addopts =
    --strict-markers
    -ra
    --tb=short

# Markers personnalises
markers =
    slow: tests lents (exclure avec -m "not slow")
    requires_librosa: tests necessitant librosa
    requires_tts: tests necessitant TTS/XTTS
    requires_soundfile: tests necessitant soundfile
    integration: tests d'integration

# Timeout par test (secondes)
# timeout = 60

# Ignorer les warnings specifiques
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Collecte
collect_ignore = ["setup.py"]

# Affichage
console_output_style = progress

# Parallele (si pytest-xdist installe)
# addopts = -n auto
